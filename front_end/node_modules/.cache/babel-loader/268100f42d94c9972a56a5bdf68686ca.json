{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport const getUser = createAsyncThunk('item/getItems', async () => {\n  const api = await fetch('http://127.0.0.1:8000/api/items');\n  const response = await api.json();\n  return response;\n});\nexport const addUser = createAsyncThunk('item/addItem', async (item, thunkAPI) => {\n  const response = await axios.post('http://127.0.0.1:8000/api/add_item', item);\n\n  if (response.status === 200) {\n    // Swal.fire({\n    //     title: \"Item\",\n    //     text: \"Has been Added Successfully\",\n    //     type: \"success\"\n    // });\n    alert(\"item Added Successfully\");\n  }\n\n  return response.data;\n});\nexport const updaUser = createAsyncThunk('item/updateItem', async args => {\n  const id = args.id;\n  const response = await fetch(`http://127.0.0.1:8000/api/update_item/${id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name: args.name,\n      description: args.description\n    })\n  });\n\n  if (response.ok) {\n    // Swal.fire({\n    //     title: \"Item\",\n    //     text: \"Has been updated Successfully\",\n    //     type: \"success\"\n    // });\n    alert(\"item updated Successfully\");\n  }\n\n  const res = response.json();\n  return res;\n});\nexport const deletUser = createAsyncThunk('item/deleteItem', async id => {\n  const response = await fetch(`http://127.0.0.1:8000/api/delete_item/${id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  if (response.ok) {\n    // Swal.fire({\n    //     title: \"Item\",\n    //     text: \"Has been deleted Successfully\",\n    //     type: \"success\"\n    // });\n    alert(\"item deleted Successfully\");\n  }\n\n  const res = response.json();\n  return res;\n});\nconst userLoginSlice = createSlice({\n  name: 'user',\n  initialState: {\n    users: [],\n    status: null\n  },\n  extraReducers: {\n    //get item from api\n    [getUser.fulfilled]: (state, action) => {\n      state.status = 'success fetch data';\n      state.items = action.payload;\n    },\n    [getUser.pending]: state => {\n      state.status = 'pending  fetch data';\n    },\n    [getUser.rejected]: state => {\n      state.status = 'rejected  fetch data';\n    },\n    //add item to api\n    [addUser.fulfilled]: (state, action) => {\n      state.status = 'success send data';\n      state.items.push(action.payload);\n    },\n    [addUser.pending]: state => {\n      state.status = 'pending send data';\n    },\n    [addUser.rejected]: state => {\n      state.status = 'rejected send data';\n    } //update item in api\n    // [updateItem.fulfilled]:(state , action)=>{\n    //     state.status = 'success update data';\n    //     const {id} = action.payload;\n    //     const item = state.items.find((item)=>item.id === id);\n    //     item.name = action.payload.name;\n    //     item.description = action.payload.description;\n    //     item.image = action.payload.image;\n    // },\n    // [updateItem.pending]:(state  )=>{\n    //     state.status = 'pending update data';\n    // },\n    // [updateItem.rejected]:(state )=>{\n    //     state.status = 'rejected update data';\n    // },\n    //delete item in api\n    // [deleteItem.fulfilled]:(state , action)=>{\n    //     state.status = 'success delete data';\n    //     const {id} = action.payload;\n    //      state.items = state.items.filter((item)=>item.id !== id);\n    // },\n    // [deleteItem.pending]:(state  )=>{\n    //     state.status = 'pending delete data';\n    // },\n    // [deleteItem.rejected]:(state )=>{\n    //     state.status = 'rejected delete data';\n    // },    \n\n  }\n});\nexport default userLoginSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getUser","api","fetch","response","json","addUser","item","thunkAPI","post","status","alert","data","updaUser","args","id","method","headers","body","JSON","stringify","name","description","ok","res","deletUser","userLoginSlice","initialState","users","extraReducers","fulfilled","state","action","items","payload","pending","rejected","push","reducer"],"sources":["C:/Users/User/Desktop/project 9/startupcompany_project_redux/front_end/src/redux/userLoginSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\nexport const getUser = createAsyncThunk(\r\n    'item/getItems',\r\n    async ()=>{\r\n        const api = await fetch('http://127.0.0.1:8000/api/items');\r\n        const response = await api.json();\r\n\r\n        return response;\r\n    }\r\n);\r\n\r\nexport const addUser = createAsyncThunk(\r\n    'item/addItem',\r\n    async (item , thunkAPI)=>{\r\n \r\n        const response = await axios.post('http://127.0.0.1:8000/api/add_item',item);\r\n        \r\n        if(response.status === 200){\r\n            // Swal.fire({\r\n            //     title: \"Item\",\r\n            //     text: \"Has been Added Successfully\",\r\n            //     type: \"success\"\r\n            // });\r\n            alert(\"item Added Successfully\");\r\n        }\r\n        return response.data;\r\n    }\r\n);\r\n\r\nexport const updaUser = createAsyncThunk(\r\n    'item/updateItem',\r\n    async (args)=>{\r\n       \r\n        const id = args.id;\r\n        const response =await fetch(`http://127.0.0.1:8000/api/update_item/${id}`,{\r\n            method:'POST',\r\n            headers:{'Content-Type': 'application/json'},\r\n            body:JSON.stringify({name:args.name , description:args.description}),\r\n        })\r\n        \r\n        if(response.ok){\r\n            // Swal.fire({\r\n            //     title: \"Item\",\r\n            //     text: \"Has been updated Successfully\",\r\n            //     type: \"success\"\r\n            // });\r\n            alert(\"item updated Successfully\");\r\n        }\r\n        const res = response.json();\r\n        return res;\r\n    }\r\n);\r\n\r\nexport const deletUser = createAsyncThunk(\r\n    'item/deleteItem',\r\n    async (id)=>{\r\n        \r\n        const response =await fetch(`http://127.0.0.1:8000/api/delete_item/${id}`,{\r\n            method:'POST',\r\n            headers:{'Content-Type': 'application/json'},\r\n            \r\n        })\r\n        if(response.ok){\r\n            // Swal.fire({\r\n            //     title: \"Item\",\r\n            //     text: \"Has been deleted Successfully\",\r\n            //     type: \"success\"\r\n            // });\r\n            alert(\"item deleted Successfully\");\r\n        }\r\n        const res = response.json();\r\n        return res;\r\n        \r\n    }\r\n)\r\n\r\nconst userLoginSlice = createSlice({\r\n    name:'user',\r\n    initialState:{users:[] , status:null},\r\n    extraReducers:{\r\n\r\n\r\n        //get item from api\r\n\r\n        [getUser.fulfilled]:(state , action)=>{\r\n            state.status = 'success fetch data';\r\n            state.items = action.payload;\r\n\r\n        },\r\n        [getUser.pending]:(state  )=>{\r\n            state.status = 'pending  fetch data';\r\n            \r\n        },\r\n        [getUser.rejected]:(state )=>{\r\n            state.status = 'rejected  fetch data';\r\n        },\r\n\r\n\r\n\r\n        //add item to api\r\n\r\n        [addUser.fulfilled]:(state , action)=>{\r\n            state.status = 'success send data';\r\n            state.items.push(action.payload);\r\n            \r\n\r\n        },\r\n        [addUser.pending]:(state  )=>{\r\n            state.status = 'pending send data';\r\n            \r\n        },\r\n        [addUser.rejected]:(state )=>{\r\n            state.status = 'rejected send data';\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n        //update item in api\r\n\r\n        // [updateItem.fulfilled]:(state , action)=>{\r\n        //     state.status = 'success update data';\r\n        //     const {id} = action.payload;\r\n        //     const item = state.items.find((item)=>item.id === id);\r\n        //     item.name = action.payload.name;\r\n        //     item.description = action.payload.description;\r\n        //     item.image = action.payload.image;\r\n            \r\n        // },\r\n        // [updateItem.pending]:(state  )=>{\r\n        //     state.status = 'pending update data';\r\n            \r\n        // },\r\n        // [updateItem.rejected]:(state )=>{\r\n        //     state.status = 'rejected update data';\r\n        // },\r\n\r\n\r\n\r\n\r\n\r\n        //delete item in api\r\n\r\n        // [deleteItem.fulfilled]:(state , action)=>{\r\n        //     state.status = 'success delete data';\r\n        //     const {id} = action.payload;\r\n        //      state.items = state.items.filter((item)=>item.id !== id);\r\n            \r\n        // },\r\n        // [deleteItem.pending]:(state  )=>{\r\n        //     state.status = 'pending delete data';\r\n            \r\n        // },\r\n        // [deleteItem.rejected]:(state )=>{\r\n        //     state.status = 'rejected delete data';\r\n        // },    \r\n}\r\n})\r\n\r\nexport default userLoginSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}