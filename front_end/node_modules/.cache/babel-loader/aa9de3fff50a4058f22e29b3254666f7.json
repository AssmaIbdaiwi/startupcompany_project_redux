{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport const getDoctors = createAsyncThunk('doctor/getDoctors', async () => {\n  const api = await fetch('http://127.0.0.1:8000/api/doctors');\n  const response = await api.json();\n  console.log(response);\n  return response;\n}); // export const getDoctorDetail = createAsyncThunk(\n//     'doctor/getDoctorDetail',\n//     async (args) => {\n//         const api = await fetch('http://127.0.0.1:8000/api/doctorDetails/1');\n//         const response = await api.json();\n//         console.log(response);\n//         return response;\n//     }\n// );\n// export const getDoctorDetail = createAsyncThunk(\n//     'doctor/getDoctorDetail',\n//     async (args) => {\n//         const id = 1;\n//         const api = await fetch(`http://127.0.0.1:8000/api/doctorDetails/2`);\n//         const response = await api.json();\n//         console.log(response);\n//         return response;\n//         //.filter(doc => doc.id == id)\n//     }\n// );\n\nexport const updateDoctorDetails = createAsyncThunk('doctor/updateDoctorDetails', async args => {\n  const id = args.id;\n  const response = await fetch(`http://127.0.0.1:8000/api/updateDoctorDetails/${id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name: args.name,\n      description: args.description,\n      email: args.email,\n      image: args.image,\n      clinic_address: args.clinic_address,\n      clinic_mobile: args.clinic_mobile,\n      experience: args.experience,\n      specialization: args.specialization\n    })\n  });\n\n  if (response.ok) {\n    Swal.fire({\n      title: \"Doctor\",\n      text: \"Has been updated Successfully\",\n      type: \"success\"\n    });\n  }\n\n  const res = response.json();\n  return res;\n});\nconst doctorSlice = createSlice({\n  name: 'doctor',\n  initialState: {\n    doctors: [],\n    status: null\n  },\n  extraReducers: {\n    //get doctors from api\n    [getDoctors.fulfilled]: (state, action) => {\n      state.status = 'success fetch data'; //state.doctors = action.payload;\n    },\n    [getDoctors.pending]: state => {\n      state.status = 'pending fetch data';\n    },\n    [getDoctors.rejected]: state => {\n      state.status = 'rejected fetch data';\n    },\n    // get one doctor from api\n    [getDoctorDetail.fulfilled]: (state, action) => {\n      state.status = 'success fetch data';\n      state.doctors = action.payload;\n    },\n    [getDoctorDetail.pending]: state => {\n      state.status = 'pending fetch data';\n    },\n    [getDoctorDetail.rejected]: state => {\n      state.status = 'rejected fetch data';\n    },\n    // update doctor in api\n    [updateDoctorDetails.fulfilled]: (state, action) => {\n      state.status = 'success update data';\n      const {\n        id\n      } = action.payload;\n      const doctor = state.doctors.find(doctor => doctor.id == id);\n      doctor.name = action.payload.name;\n      doctor.description = action.payload.description;\n      doctor.image = action.payload.image;\n      doctor.email = action.payload.email;\n      doctor.clinic_address = action.payload.clinic_address;\n      doctor.clinic_mobile = action.payload.clinic_mobile;\n      doctor.experience = action.payload.experience;\n      doctor.specialization = action.payload.specialization;\n    },\n    [updateDoctorDetails.pending]: state => {\n      state.status = 'pending update data';\n    },\n    [updateDoctorDetails.rejected]: state => {\n      state.status = 'rejected update data';\n    }\n  }\n});\nexport default doctorSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getDoctors","api","fetch","response","json","console","log","updateDoctorDetails","args","id","method","headers","body","JSON","stringify","name","description","email","image","clinic_address","clinic_mobile","experience","specialization","ok","fire","title","text","type","res","doctorSlice","initialState","doctors","status","extraReducers","fulfilled","state","action","pending","rejected","getDoctorDetail","payload","doctor","find","reducer"],"sources":["C:/Users/dell/Desktop/startupcompany_project_redux/front_end/src/redux/doctorSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\nexport const getDoctors = createAsyncThunk(\r\n    'doctor/getDoctors',\r\n    async () => {\r\n        const api = await fetch('http://127.0.0.1:8000/api/doctors');\r\n        const response = await api.json();\r\n        console.log(response);\r\n        return response;\r\n    }\r\n);\r\n\r\n// export const getDoctorDetail = createAsyncThunk(\r\n//     'doctor/getDoctorDetail',\r\n//     async (args) => {\r\n//         const api = await fetch('http://127.0.0.1:8000/api/doctorDetails/1');\r\n//         const response = await api.json();\r\n//         console.log(response);\r\n//         return response;\r\n//     }\r\n// );\r\n\r\n\r\n// export const getDoctorDetail = createAsyncThunk(\r\n//     'doctor/getDoctorDetail',\r\n//     async (args) => {\r\n//         const id = 1;\r\n//         const api = await fetch(`http://127.0.0.1:8000/api/doctorDetails/2`);\r\n//         const response = await api.json();\r\n//         console.log(response);\r\n//         return response;\r\n        \r\n//         //.filter(doc => doc.id == id)\r\n//     }\r\n// );\r\n\r\nexport const updateDoctorDetails = createAsyncThunk(\r\n    'doctor/updateDoctorDetails',\r\n    async (args) => {\r\n\r\n        const id = args.id;\r\n        const response = await fetch(`http://127.0.0.1:8000/api/updateDoctorDetails/${id}`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                name: args.name,\r\n                description: args.description,\r\n                email: args.email,\r\n                image: args.image,\r\n                clinic_address: args.clinic_address,\r\n                clinic_mobile: args.clinic_mobile,\r\n                experience: args.experience,\r\n                specialization: args.specialization\r\n\r\n            }),\r\n        })\r\n\r\n        if (response.ok) {\r\n            Swal.fire({\r\n                title: \"Doctor\",\r\n                text: \"Has been updated Successfully\",\r\n                type: \"success\"\r\n            });\r\n        }\r\n        const res = response.json();\r\n        return res;\r\n    }\r\n);\r\n\r\nconst doctorSlice = createSlice({\r\n    name: 'doctor',\r\n    initialState: { doctors: [], status: null },\r\n    extraReducers: {\r\n        //get doctors from api\r\n        [getDoctors.fulfilled]: (state, action) => {\r\n            state.status = 'success fetch data';\r\n            //state.doctors = action.payload;\r\n\r\n        },\r\n        [getDoctors.pending]: (state) => {\r\n            state.status = 'pending fetch data';\r\n\r\n        },\r\n        [getDoctors.rejected]: (state) => {\r\n            state.status = 'rejected fetch data';\r\n        },\r\n\r\n       // get one doctor from api\r\n        [getDoctorDetail.fulfilled]: (state, action) => {\r\n            state.status = 'success fetch data';\r\n          \r\n            state.doctors= action.payload;\r\n\r\n        },\r\n        [getDoctorDetail.pending]: (state) => {\r\n            state.status = 'pending fetch data';\r\n\r\n        },\r\n        [getDoctorDetail.rejected]: (state) => {\r\n            state.status = 'rejected fetch data';\r\n        },\r\n\r\n\r\n       // update doctor in api\r\n        [updateDoctorDetails.fulfilled]: (state, action) => {\r\n            state.status = 'success update data';\r\n            const { id } = action.payload;\r\n            const doctor = state.doctors.find((doctor) => doctor.id == id);\r\n            doctor.name = action.payload.name;\r\n            doctor.description = action.payload.description;\r\n            doctor.image = action.payload.image;\r\n            doctor.email = action.payload.email;\r\n            doctor.clinic_address = action.payload.clinic_address;\r\n            doctor.clinic_mobile = action.payload.clinic_mobile;\r\n            doctor.experience = action.payload.experience;\r\n            doctor.specialization = action.payload.specialization;\r\n\r\n        },\r\n        [updateDoctorDetails.pending]: (state) => {\r\n            state.status = 'pending update data';\r\n\r\n        },\r\n        [updateDoctorDetails.rejected]: (state) => {\r\n            state.status = 'rejected update data';\r\n        },\r\n\r\n\r\n\r\n    }\r\n})\r\n\r\nexport default doctorSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}