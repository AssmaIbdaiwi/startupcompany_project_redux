{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport const getComments = createAsyncThunk(\"comment/getComments\", async id => {\n  const api = await fetch(`http://127.0.0.1:8000/api/apicomment/${id}`);\n  const response = await api.json();\n  console.log(response);\n  return response;\n});\nexport const addComment = createAsyncThunk(\"comment/addComment\", async (data, thunkAPI) => {\n  const response = await axios.post(\"http://127.0.0.1:8000/api/addComment\", data); // const add = await response.data;\n  // console.log('add',add)\n\n  if (response.status == 200) {\n    Swal.fire({\n      title: \"Item\",\n      text: \"Has been Added Successfully\",\n      type: \"success\"\n    });\n  }\n\n  return response.data; //  return add;\n});\nconst commentSlice = createSlice({\n  name: \"comment\",\n  initialState: {\n    comments: [],\n    status: null\n  },\n  extraReducers: {\n    //get item from api\n    [getComments.fulfilled]: (state, action) => {\n      console.log(action);\n      state.status = \"success fetch data\";\n      state.comments = action.payload;\n    },\n    [getComments.pending]: state => {\n      state.status = \"pending  fetch data\";\n    },\n    [getComments.rejected]: state => {\n      state.status = \"rejected  fetch data\";\n    },\n    // addcomment to api\n    [addComment.fulfilled]: (state, action) => {\n      console.log(action);\n      state.status = \"success send data\";\n      state.comments.push(action.payload);\n    },\n    [addComment.pending]: state => {\n      state.status = \"pending send data\";\n    },\n    [addComment.rejected]: state => {\n      state.status = \"rejected send data\";\n    },\n    //delete item in api\n    [deleteItem.fulfilled]: (state, action) => {\n      state.status = 'success delete data';\n      const {\n        id\n      } = action.payload;\n      state.items = state.items.filter(item => item.id != id);\n    },\n    [deleteItem.pending]: state => {\n      state.status = 'pending delete data';\n    },\n    [deleteItem.rejected]: state => {\n      state.status = 'rejected delete data';\n    }\n  }\n});\nexport default commentSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getComments","id","api","fetch","response","json","console","log","addComment","data","thunkAPI","post","status","fire","title","text","type","commentSlice","name","initialState","comments","extraReducers","fulfilled","state","action","payload","pending","rejected","push","deleteItem","items","filter","item","reducer"],"sources":["C:/xampp/htdocs/startupcompany_project_redux/front_end/src/redux/commentSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nexport const getComments = createAsyncThunk(\"comment/getComments\", async (id) => {\r\n  const api = await fetch(`http://127.0.0.1:8000/api/apicomment/${id}`);\r\n  const response = await api.json();\r\n  console.log(response);\r\n  return response;\r\n});\r\n\r\n\r\n\r\nexport const addComment = createAsyncThunk(\r\n  \"comment/addComment\",\r\n  async (data, thunkAPI) => {\r\n    const response = await axios.post(\r\n      \"http://127.0.0.1:8000/api/addComment\",\r\n      data\r\n    );\r\n// const add = await response.data;\r\n// console.log('add',add)\r\n    if (response.status == 200) {\r\n      Swal.fire({\r\n        title: \"Item\",\r\n        text: \"Has been Added Successfully\",\r\n        type: \"success\",\r\n      });\r\n    }\r\n    return response.data;\r\n    //  return add;\r\n  }\r\n \r\n);\r\n\r\nconst commentSlice = createSlice({\r\n  name: \"comment\",\r\n  initialState: { comments:[], status: null },\r\n  extraReducers: {\r\n    //get item from api\r\n    [getComments.fulfilled]: (state, action) => {\r\n      console.log(action);\r\n      state.status = \"success fetch data\";\r\n      state.comments = action.payload;\r\n    },\r\n    [getComments.pending]: (state) => {\r\n      state.status = \"pending  fetch data\";\r\n    },\r\n    [getComments.rejected]: (state) => {\r\n      state.status = \"rejected  fetch data\";\r\n    },\r\n\r\n    // addcomment to api\r\n\r\n    [addComment.fulfilled]: (state, action) => {\r\n        console.log(action)\r\n      state.status = \"success send data\";\r\n      state.comments.push(action.payload);\r\n    },\r\n    [addComment.pending]: (state) => {\r\n      state.status = \"pending send data\";\r\n    },\r\n    [addComment.rejected]: (state) => {\r\n      state.status = \"rejected send data\";\r\n    },\r\n\r\n\r\n\r\n            //delete item in api\r\n        [deleteItem.fulfilled]:(state , action)=>{\r\n            state.status = 'success delete data';\r\n            const {id} = action.payload;\r\n             state.items = state.items.filter((item)=>item.id != id);\r\n            \r\n        },\r\n        [deleteItem.pending]:(state  )=>{\r\n            state.status = 'pending delete data';\r\n            \r\n        },\r\n        [deleteItem.rejected]:(state )=>{\r\n            state.status = 'rejected delete data';\r\n        },\r\n\r\n        \r\n\r\n  },\r\n});\r\n\r\nexport default commentSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}