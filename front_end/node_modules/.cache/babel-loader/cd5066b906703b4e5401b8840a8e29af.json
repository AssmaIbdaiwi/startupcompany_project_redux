{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport const getComunityPosts = createAsyncThunk(\"comunitypost/getComunityPosts\", async () => {\n  const api = await fetch(\"http://127.0.0.1:8000/api/apiCommunityPost\");\n  const response = await api.json();\n  console.log(response);\n  return response;\n});\nexport const deleteComunityPost = createAsyncThunk(\"comunitypost/deleteComunityPost\", async id => {\n  const response = await fetch(`http://127.0.0.1:8000/api/deleteComunityPost/${id}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n\n  if (response.ok) {\n    Swal.fire({\n      title: \"Post\",\n      text: \"Has been deleted Successfully\",\n      type: \"success\"\n    });\n  }\n\n  const res = response.json();\n  return res;\n});\nconst postSlice = createSlice({\n  name: \"comunitypost\",\n  initialState: {\n    status: null,\n    comunityposts: []\n  },\n  extraReducers: {\n    //get comunitypost from api\n    [getComunityPosts.fulfilled]: (state, action) => {\n      console.log(action);\n      state.status = \"success fetch data\";\n      state.comunityposts = action.payload;\n    },\n    [getComunityPosts.pending]: state => {\n      state.status = \"pending  fetch data\";\n    },\n    [getComunityPosts.rejected]: state => {\n      state.status = \"rejected  fetch data\";\n    },\n    //delete comunitypost in api\n    [deleteComunityPost.fulfilled]: (state, action) => {\n      state.status = \"success delete data\";\n      const {\n        id\n      } = action.payload;\n      state.comunityposts = state.comunityposts.filter(comunitypost => comunityposts.id != id);\n    },\n    [deleteComunityPost.pending]: state => {\n      state.status = \"pending delete data\";\n    },\n    [deleteComunityPost.rejected]: state => {\n      state.status = \"rejected delete data\";\n    }\n  }\n});\nexport default postSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getComunityPosts","api","fetch","response","json","console","log","deleteComunityPost","id","method","headers","ok","fire","title","text","type","res","postSlice","name","initialState","status","comunityposts","extraReducers","fulfilled","state","action","payload","pending","rejected","filter","comunitypost","reducer"],"sources":["C:/xampp/htdocs/startupcompany_project_redux/front_end/src/redux/ComunityPost.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const getComunityPosts = createAsyncThunk(\"comunitypost/getComunityPosts\", async () => {\r\n  const api = await fetch(\"http://127.0.0.1:8000/api/apiCommunityPost\");\r\n  const response = await api.json();\r\n  console.log(response);\r\n  return response;\r\n});\r\n\r\n\r\n\r\n\r\nexport const deleteComunityPost = createAsyncThunk(\r\n  \"comunitypost/deleteComunityPost\",\r\n  async (id) => {\r\n    const response = await fetch(\r\n      `http://127.0.0.1:8000/api/deleteComunityPost/${id}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    if (response.ok) {\r\n      Swal.fire({\r\n        title: \"Post\",\r\n        text: \"Has been deleted Successfully\",\r\n        type: \"success\",\r\n      });\r\n    }\r\n    const res = response.json();\r\n    return res;\r\n  }\r\n);\r\n\r\nconst postSlice = createSlice({\r\n  name: \"comunitypost\",\r\n  initialState: { status: null, comunityposts: [] },\r\n  extraReducers: {\r\n    //get comunitypost from api\r\n    [getComunityPosts.fulfilled]: (state, action) => {\r\n      console.log(action);\r\n      state.status = \"success fetch data\";\r\n      state.comunityposts = action.payload;\r\n    },\r\n    [getComunityPosts.pending]: (state) => {\r\n      state.status = \"pending  fetch data\";\r\n    },\r\n    [getComunityPosts.rejected]: (state) => {\r\n      state.status = \"rejected  fetch data\";\r\n    },\r\n\r\n    //delete comunitypost in api\r\n    [deleteComunityPost.fulfilled]: (state, action) => {\r\n      state.status = \"success delete data\";\r\n      const { id } = action.payload;\r\n      state.comunityposts = state.comunityposts.filter(\r\n        (comunitypost) => comunityposts.id != id\r\n      );\r\n    },\r\n    [deleteComunityPost.pending]: (state) => {\r\n      state.status = \"pending delete data\";\r\n    },\r\n    [deleteComunityPost.rejected]: (state) => {\r\n      state.status = \"rejected delete data\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default postSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAO,MAAMC,gBAAgB,GAAGJ,gBAAgB,CAAC,+BAAD,EAAkC,YAAY;EAC5F,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,4CAAD,CAAvB;EACA,MAAMC,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAvB;EACAC,OAAO,CAACC,GAAR,CAAYH,QAAZ;EACA,OAAOA,QAAP;AACD,CAL+C,CAAzC;AAUP,OAAO,MAAMI,kBAAkB,GAAGX,gBAAgB,CAChD,iCADgD,EAEhD,MAAOY,EAAP,IAAc;EACZ,MAAML,QAAQ,GAAG,MAAMD,KAAK,CACzB,gDAA+CM,EAAG,EADzB,EAE1B;IACEC,MAAM,EAAE,MADV;IAEEC,OAAO,EAAE;MAAE,gBAAgB;IAAlB;EAFX,CAF0B,CAA5B;;EAOA,IAAIP,QAAQ,CAACQ,EAAb,EAAiB;IACfZ,IAAI,CAACa,IAAL,CAAU;MACRC,KAAK,EAAE,MADC;MAERC,IAAI,EAAE,+BAFE;MAGRC,IAAI,EAAE;IAHE,CAAV;EAKD;;EACD,MAAMC,GAAG,GAAGb,QAAQ,CAACC,IAAT,EAAZ;EACA,OAAOY,GAAP;AACD,CAnB+C,CAA3C;AAsBP,MAAMC,SAAS,GAAGpB,WAAW,CAAC;EAC5BqB,IAAI,EAAE,cADsB;EAE5BC,YAAY,EAAE;IAAEC,MAAM,EAAE,IAAV;IAAgBC,aAAa,EAAE;EAA/B,CAFc;EAG5BC,aAAa,EAAE;IACb;IACA,CAACtB,gBAAgB,CAACuB,SAAlB,GAA8B,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC/CpB,OAAO,CAACC,GAAR,CAAYmB,MAAZ;MACAD,KAAK,CAACJ,MAAN,GAAe,oBAAf;MACAI,KAAK,CAACH,aAAN,GAAsBI,MAAM,CAACC,OAA7B;IACD,CANY;IAOb,CAAC1B,gBAAgB,CAAC2B,OAAlB,GAA6BH,KAAD,IAAW;MACrCA,KAAK,CAACJ,MAAN,GAAe,qBAAf;IACD,CATY;IAUb,CAACpB,gBAAgB,CAAC4B,QAAlB,GAA8BJ,KAAD,IAAW;MACtCA,KAAK,CAACJ,MAAN,GAAe,sBAAf;IACD,CAZY;IAcb;IACA,CAACb,kBAAkB,CAACgB,SAApB,GAAgC,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACjDD,KAAK,CAACJ,MAAN,GAAe,qBAAf;MACA,MAAM;QAAEZ;MAAF,IAASiB,MAAM,CAACC,OAAtB;MACAF,KAAK,CAACH,aAAN,GAAsBG,KAAK,CAACH,aAAN,CAAoBQ,MAApB,CACnBC,YAAD,IAAkBT,aAAa,CAACb,EAAd,IAAoBA,EADlB,CAAtB;IAGD,CArBY;IAsBb,CAACD,kBAAkB,CAACoB,OAApB,GAA+BH,KAAD,IAAW;MACvCA,KAAK,CAACJ,MAAN,GAAe,qBAAf;IACD,CAxBY;IAyBb,CAACb,kBAAkB,CAACqB,QAApB,GAAgCJ,KAAD,IAAW;MACxCA,KAAK,CAACJ,MAAN,GAAe,sBAAf;IACD;EA3BY;AAHa,CAAD,CAA7B;AAkCA,eAAeH,SAAS,CAACc,OAAzB"},"metadata":{},"sourceType":"module"}