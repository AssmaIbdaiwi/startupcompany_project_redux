{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport const getComunityPosts = createAsyncThunk(\"comunitypost/getComunityPosts\", async () => {\n  const api = await fetch(\"http://127.0.0.1:8000/api/apiCommunityPost\");\n  const response = await api.json();\n  return response;\n});\nexport const addComunityPosts = createAsyncThunk(\"comunitypost/addComunityPosts\", async (data, thunkAPI) => {\n  const response = await axios.post(\"http://127.0.0.1:8000/api/addComunityPost\", data); // const add = await response.data;\n  // console.log('add',add)\n\n  if (response.status == 200) {\n    Swal.fire({\n      title: \"Post\",\n      text: \"Has been Added Successfully\",\n      type: \"success\"\n    });\n  }\n\n  return response.data; //  return add;\n}); ///////delete\n// export const deleteComunityPost = createAsyncThunk(\n//   \"comunitypost/deleteComunityPost\",\n//   async (id) => {\n//     const response = await fetch(\n//       `http://127.0.0.1:8000/api/deleteComunityPost/${id}`,\n//       {\n//         method: \"POST\",\n//         headers: { \"Content-Type\": \"application/json\" },\n//       }\n//     );\n//     console.log(response);\n//     if (response.ok) {\n//       Swal.fire({\n//         title: \"Post\",\n//         text: \"Has been deleted Successfully\",\n//         type: \"success\",\n//       });\n//     }\n//     const res = response.json();\n//     return res;\n//   }\n// );\n\nconst postSlice = createSlice({\n  name: \"comunitypost\",\n  initialState: {\n    status: null,\n    comunityposts: []\n  },\n  extraReducers: {\n    //get comunitypost from api\n    [getComunityPosts.fulfilled]: (state, action) => {\n      //   console.log(action);\n      state.status = \"success fetch data\";\n      state.comunityposts = action.payload;\n    },\n    [getComunityPosts.pending]: state => {\n      state.status = \"pending  fetch data\";\n    },\n    [getComunityPosts.rejected]: state => {\n      state.status = \"rejected  fetch data\";\n    } // addComunityPosts to api\n    // [addComunityPosts.fulfilled]: (state, action) => {\n    //   console.log(action);\n    //   state.status = \"success send data\";\n    //   state.comunityposts.push(action.payload);\n    // },\n    // [addComunityPosts.pending]: (state) => {\n    //   state.status = \"pending send data\";\n    // },\n    // [addComunityPosts.rejected]: (state) => {\n    //   state.status = \"rejected send data\";\n    // },\n    // //delete comunitypost in api\n    // [deleteComunityPost.fulfilled]: (state, action) => {\n    //   state.status = \"success delete data\";\n    //   const { id } = action.payload;\n    //   state.comunityposts = state.comunityposts.filter(\n    //     (comunitypost) => comunitypost.id != id\n    //   );\n    // },\n    // [deleteComunityPost.pending]: (state) => {\n    //   state.status = \"pending delete data\";\n    // },\n    // [deleteComunityPost.rejected]: (state) => {\n    //   state.status = \"rejected delete data\";\n    // },\n\n  }\n});\nexport default postSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getComunityPosts","api","fetch","response","json","addComunityPosts","data","thunkAPI","post","status","fire","title","text","type","postSlice","name","initialState","comunityposts","extraReducers","fulfilled","state","action","payload","pending","rejected","reducer"],"sources":["C:/xampp/htdocs/startupcompany_project_redux/front_end/src/redux/ComunityComment.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const getComunityPosts = createAsyncThunk(\r\n  \"comunitypost/getComunityPosts\",\r\n  async () => {\r\n    const api = await fetch(\"http://127.0.0.1:8000/api/apiCommunityPost\");\r\n    const response = await api.json();\r\n\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const addComunityPosts = createAsyncThunk(\r\n  \"comunitypost/addComunityPosts\",\r\n  async (data, thunkAPI) => {\r\n    const response = await axios.post(\r\n      \"http://127.0.0.1:8000/api/addComunityPost\",\r\n      data\r\n    );\r\n    // const add = await response.data;\r\n    // console.log('add',add)\r\n    if (response.status == 200) {\r\n      Swal.fire({\r\n        title: \"Post\",\r\n        text: \"Has been Added Successfully\",\r\n        type: \"success\",\r\n      });\r\n    }\r\n    return response.data;\r\n    //  return add;\r\n  }\r\n);\r\n\r\n///////delete\r\n// export const deleteComunityPost = createAsyncThunk(\r\n//   \"comunitypost/deleteComunityPost\",\r\n//   async (id) => {\r\n//     const response = await fetch(\r\n//       `http://127.0.0.1:8000/api/deleteComunityPost/${id}`,\r\n//       {\r\n//         method: \"POST\",\r\n//         headers: { \"Content-Type\": \"application/json\" },\r\n//       }\r\n//     );\r\n//     console.log(response);\r\n//     if (response.ok) {\r\n//       Swal.fire({\r\n//         title: \"Post\",\r\n//         text: \"Has been deleted Successfully\",\r\n//         type: \"success\",\r\n//       });\r\n//     }\r\n//     const res = response.json();\r\n//     return res;\r\n//   }\r\n// );\r\n\r\nconst postSlice = createSlice({\r\n  name: \"comunitypost\",\r\n  initialState: { status: null, comunityposts: [] },\r\n  extraReducers: {\r\n    //get comunitypost from api\r\n    [getComunityPosts.fulfilled]: (state, action) => {\r\n      //   console.log(action);\r\n      state.status = \"success fetch data\";\r\n      state.comunityposts = action.payload;\r\n    },\r\n    [getComunityPosts.pending]: (state) => {\r\n      state.status = \"pending  fetch data\";\r\n    },\r\n    [getComunityPosts.rejected]: (state) => {\r\n      state.status = \"rejected  fetch data\";\r\n    },\r\n\r\n    // addComunityPosts to api\r\n\r\n    // [addComunityPosts.fulfilled]: (state, action) => {\r\n    //   console.log(action);\r\n    //   state.status = \"success send data\";\r\n    //   state.comunityposts.push(action.payload);\r\n    // },\r\n    // [addComunityPosts.pending]: (state) => {\r\n    //   state.status = \"pending send data\";\r\n    // },\r\n    // [addComunityPosts.rejected]: (state) => {\r\n    //   state.status = \"rejected send data\";\r\n    // },\r\n\r\n\r\n    // //delete comunitypost in api\r\n    // [deleteComunityPost.fulfilled]: (state, action) => {\r\n    //   state.status = \"success delete data\";\r\n    //   const { id } = action.payload;\r\n    //   state.comunityposts = state.comunityposts.filter(\r\n    //     (comunitypost) => comunitypost.id != id\r\n    //   );\r\n    // },\r\n    // [deleteComunityPost.pending]: (state) => {\r\n    //   state.status = \"pending delete data\";\r\n    // },\r\n    // [deleteComunityPost.rejected]: (state) => {\r\n    //   state.status = \"rejected delete data\";\r\n    // },\r\n  },\r\n});\r\n\r\nexport default postSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAO,MAAMC,gBAAgB,GAAGJ,gBAAgB,CAC9C,+BAD8C,EAE9C,YAAY;EACV,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,4CAAD,CAAvB;EACA,MAAMC,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAvB;EAEA,OAAOD,QAAP;AACD,CAP6C,CAAzC;AAUP,OAAO,MAAME,gBAAgB,GAAGT,gBAAgB,CAC9C,+BAD8C,EAE9C,OAAOU,IAAP,EAAaC,QAAb,KAA0B;EACxB,MAAMJ,QAAQ,GAAG,MAAML,KAAK,CAACU,IAAN,CACrB,2CADqB,EAErBF,IAFqB,CAAvB,CADwB,CAKxB;EACA;;EACA,IAAIH,QAAQ,CAACM,MAAT,IAAmB,GAAvB,EAA4B;IAC1BV,IAAI,CAACW,IAAL,CAAU;MACRC,KAAK,EAAE,MADC;MAERC,IAAI,EAAE,6BAFE;MAGRC,IAAI,EAAE;IAHE,CAAV;EAKD;;EACD,OAAOV,QAAQ,CAACG,IAAhB,CAdwB,CAexB;AACD,CAlB6C,CAAzC,C,CAqBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMQ,SAAS,GAAGjB,WAAW,CAAC;EAC5BkB,IAAI,EAAE,cADsB;EAE5BC,YAAY,EAAE;IAAEP,MAAM,EAAE,IAAV;IAAgBQ,aAAa,EAAE;EAA/B,CAFc;EAG5BC,aAAa,EAAE;IACb;IACA,CAAClB,gBAAgB,CAACmB,SAAlB,GAA8B,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC/C;MACAD,KAAK,CAACX,MAAN,GAAe,oBAAf;MACAW,KAAK,CAACH,aAAN,GAAsBI,MAAM,CAACC,OAA7B;IACD,CANY;IAOb,CAACtB,gBAAgB,CAACuB,OAAlB,GAA6BH,KAAD,IAAW;MACrCA,KAAK,CAACX,MAAN,GAAe,qBAAf;IACD,CATY;IAUb,CAACT,gBAAgB,CAACwB,QAAlB,GAA8BJ,KAAD,IAAW;MACtCA,KAAK,CAACX,MAAN,GAAe,sBAAf;IACD,CAZY,CAcb;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EA1Ca;AAHa,CAAD,CAA7B;AAiDA,eAAeK,SAAS,CAACW,OAAzB"},"metadata":{},"sourceType":"module"}