{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport const getDoctors = createAsyncThunk('doctor/getDoctors', async () => {\n  const api = await fetch('http://127.0.0.1:8000/api/doctors');\n  const response = await api.json(); //console.log(response);\n\n  return response;\n});\nexport const getDoctorDetail = createAsyncThunk('doctor/getDoctorDetail', async id => {\n  const api = await fetch(`http://127.0.0.1:8000/api/doctorDetails/${id}`);\n  const response = await api.json();\n  console.log(response);\n  return response;\n}); // export const getDoctorDetail = createAsyncThunk(\n//     'doctor/getDoctorDetail',\n//     async (args) => {\n//         const id = 1;\n//         const api = await fetch(`http://127.0.0.1:8000/api/doctorDetails/2`);\n//         const response = await api.json();\n//         console.log(response);\n//         return response;\n//         //.filter(doc => doc.id == id)\n//     }\n// );\n\nexport const updateDoctorDetails = createAsyncThunk('doctor/updateDoctorDetails', async args => {\n  const id = args.id;\n  const response = await fetch(`http://127.0.0.1:8000/api/updateDoctorDetails/${id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name: args.name,\n      description: args.description,\n      email: args.email,\n      image: args.image,\n      clinic_address: args.clinic_address,\n      clinic_mobile: args.clinic_mobile,\n      experience: args.experience,\n      specialization: args.specialization\n    })\n  });\n\n  if (response.ok) {\n    Swal.fire({\n      title: \"Doctor\",\n      text: \"Has been updated Successfully\",\n      type: \"success\"\n    });\n  }\n\n  const res = response.json();\n  return res;\n});\nconst doctorSlice = createSlice({\n  name: 'doctor',\n  initialState: {\n    doctors: [],\n    status: null\n  },\n  extraReducers: {\n    //get doctors from api\n    [getDoctors.fulfilled]: (state, action) => {\n      state.status = 'success fetch data';\n      state.doctors = action.payload;\n    },\n    [getDoctors.pending]: state => {\n      state.status = 'pending fetch data';\n    },\n    [getDoctors.rejected]: state => {\n      state.status = 'rejected fetch data';\n    },\n    // get one doctor from api\n    [getDoctorDetail.fulfilled]: (state, action) => {\n      state.status = 'success fetch data';\n      state.doctors = action.payload;\n    },\n    [getDoctorDetail.pending]: state => {\n      state.status = 'pending fetch data';\n    },\n    [getDoctorDetail.rejected]: state => {\n      state.status = 'rejected fetch data';\n    },\n    // update doctor in api\n    [updateDoctorDetails.fulfilled]: (state, action) => {\n      state.status = 'success update data';\n      const {\n        id\n      } = action.payload;\n      const doctor = state.doctors.find(doctor => doctor.id == id);\n      doctor.name = action.payload.name;\n      doctor.description = action.payload.description;\n      doctor.image = action.payload.image;\n      doctor.email = action.payload.email;\n      doctor.clinic_address = action.payload.clinic_address;\n      doctor.clinic_mobile = action.payload.clinic_mobile;\n      doctor.experience = action.payload.experience;\n      doctor.specialization = action.payload.specialization;\n    },\n    [updateDoctorDetails.pending]: state => {\n      state.status = 'pending update data';\n    },\n    [updateDoctorDetails.rejected]: state => {\n      state.status = 'rejected update data';\n    }\n  }\n});\nexport default doctorSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getDoctors","api","fetch","response","json","getDoctorDetail","id","console","log","updateDoctorDetails","args","method","headers","body","JSON","stringify","name","description","email","image","clinic_address","clinic_mobile","experience","specialization","ok","fire","title","text","type","res","doctorSlice","initialState","doctors","status","extraReducers","fulfilled","state","action","payload","pending","rejected","doctor","find","reducer"],"sources":["C:/Users/User/Desktop/project 9/startupcompany_project_redux/front_end/src/redux/doctorSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\nexport const getDoctors = createAsyncThunk(\r\n    'doctor/getDoctors',\r\n    async () => {\r\n        const api = await fetch('http://127.0.0.1:8000/api/doctors');\r\n        const response = await api.json();\r\n        //console.log(response);\r\n        return response;\r\n    }\r\n);\r\n\r\nexport const getDoctorDetail = createAsyncThunk(\r\n    'doctor/getDoctorDetail',\r\n    async (id) => {\r\n        const api = await fetch(`http://127.0.0.1:8000/api/doctorDetails/${id}`);\r\n        const response = await api.json();\r\n        console.log(response);\r\n        return response;\r\n    }\r\n);\r\n\r\n\r\n// export const getDoctorDetail = createAsyncThunk(\r\n//     'doctor/getDoctorDetail',\r\n//     async (args) => {\r\n//         const id = 1;\r\n//         const api = await fetch(`http://127.0.0.1:8000/api/doctorDetails/2`);\r\n//         const response = await api.json();\r\n//         console.log(response);\r\n//         return response;\r\n        \r\n//         //.filter(doc => doc.id == id)\r\n//     }\r\n// );\r\n\r\nexport const updateDoctorDetails = createAsyncThunk(\r\n    'doctor/updateDoctorDetails',\r\n    async (args) => {\r\n\r\n        const id = args.id;\r\n        const response = await fetch(`http://127.0.0.1:8000/api/updateDoctorDetails/${id}`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                name: args.name,\r\n                description: args.description,\r\n                email: args.email,\r\n                image: args.image,\r\n                clinic_address: args.clinic_address,\r\n                clinic_mobile: args.clinic_mobile,\r\n                experience: args.experience,\r\n                specialization: args.specialization\r\n\r\n            }),\r\n        })\r\n\r\n        if (response.ok) {\r\n            Swal.fire({\r\n                title: \"Doctor\",\r\n                text: \"Has been updated Successfully\",\r\n                type: \"success\"\r\n            });\r\n        }\r\n        const res = response.json();\r\n        return res;\r\n    }\r\n);\r\n\r\nconst doctorSlice = createSlice({\r\n    name: 'doctor',\r\n    initialState: { doctors: [], status: null },\r\n    extraReducers: {\r\n        //get doctors from api\r\n        [getDoctors.fulfilled]: (state, action) => {\r\n            state.status = 'success fetch data';\r\n            state.doctors = action.payload;\r\n\r\n        },\r\n        [getDoctors.pending]: (state) => {\r\n            state.status = 'pending fetch data';\r\n\r\n        },\r\n        [getDoctors.rejected]: (state) => {\r\n            state.status = 'rejected fetch data';\r\n        },\r\n\r\n       // get one doctor from api\r\n        [getDoctorDetail.fulfilled]: (state, action) => {\r\n            state.status = 'success fetch data';\r\n            state.doctors= action.payload;\r\n\r\n        },\r\n        [getDoctorDetail.pending]: (state) => {\r\n            state.status = 'pending fetch data';\r\n\r\n        },\r\n        [getDoctorDetail.rejected]: (state) => {\r\n            state.status = 'rejected fetch data';\r\n        },\r\n\r\n\r\n       // update doctor in api\r\n        [updateDoctorDetails.fulfilled]: (state, action) => {\r\n            state.status = 'success update data';\r\n            const { id } = action.payload;\r\n            const doctor = state.doctors.find((doctor) => doctor.id == id);\r\n            doctor.name = action.payload.name;\r\n            doctor.description = action.payload.description;\r\n            doctor.image = action.payload.image;\r\n            doctor.email = action.payload.email;\r\n            doctor.clinic_address = action.payload.clinic_address;\r\n            doctor.clinic_mobile = action.payload.clinic_mobile;\r\n            doctor.experience = action.payload.experience;\r\n            doctor.specialization = action.payload.specialization;\r\n\r\n        },\r\n        [updateDoctorDetails.pending]: (state) => {\r\n            state.status = 'pending update data';\r\n\r\n        },\r\n        [updateDoctorDetails.rejected]: (state) => {\r\n            state.status = 'rejected update data';\r\n        },\r\n\r\n\r\n\r\n    }\r\n})\r\n\r\nexport default doctorSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}