{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport const getComments = createAsyncThunk(\"comment/getComments\", async () => {\n  const api = await fetch(\"http://127.0.0.1:8000/api/apicomment\");\n  const response = await api.json();\n  console.log(response);\n  return response;\n}); // export const addComment = createAsyncThunk(\n//   \"comment/addComment\",\n//   async (addcom, thunkAPI) => {\n//     const api = await axios({\n//       method: \"post\",\n//       url: \"http://127.0.0.1:8000/api/addComment\",\n//       headers: { Accept: \"application/json\" },\n//       data: addcom,\n//     });\n//     if (api.status == 200) {\n//       Swal.fire({\n//         position: \"top-end\",\n//         icon: \"success\",\n//         title: \"Contact Has been sent Successfully\",\n//         showConfirmButton: false,\n//         timer: 1500,\n//       });\n//     }\n//   }\n// );\n// export const addComment = createAsyncThunk(\n//   \"comment/addComment\",\n//   async (data, thunkAPI) => {\n//     const response = await axios.post(\n//       \"http://127.0.0.1:8000/api/addComment\",\n//       data\n//     );\n// const add = await response.data;\n// console.log('add',add)\n//     if (response.status == 200) {\n//       Swal.fire({\n//         title: \"Item\",\n//         text: \"Has been Added Successfully\",\n//         type: \"success\",\n//       });\n//     }\n//     // return response.data;\n//      return add;\n//   }\n// );\n\nconst commentSlice = createSlice({\n  name: \"comment\",\n  initialState: {\n    comments: [],\n    status: null\n  },\n  extraReducers: {\n    //get item from api\n    [getComments.fulfilled]: (state, action) => {\n      console.log(action);\n      state.status = \"success fetch data\";\n      state.comments = action.payload;\n    },\n    [getComments.pending]: state => {\n      state.status = \"pending  fetch data\";\n    },\n    [getComments.rejected]: state => {\n      state.status = \"rejected  fetch data\";\n    },\n    // addcomment to api\n    [addComment.fulfilled]: (state, action) => {\n      console.log(action);\n      state.status = \"success send data\";\n      state.comments.push(action.payload);\n    },\n    [addComment.pending]: state => {\n      state.status = \"pending send data\";\n    },\n    [addComment.rejected]: state => {\n      state.status = \"rejected send data\";\n    }\n  }\n});\nexport default commentSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Swal","getComments","api","fetch","response","json","console","log","commentSlice","name","initialState","comments","status","extraReducers","fulfilled","state","action","payload","pending","rejected","addComment","push","reducer"],"sources":["C:/xampp/htdocs/startupcompany_project_redux/front_end/src/redux/commentSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nexport const getComments = createAsyncThunk(\"comment/getComments\", async () => {\r\n  const api = await fetch(\"http://127.0.0.1:8000/api/apicomment\");\r\n  const response = await api.json();\r\n  console.log(response);\r\n  return response;\r\n});\r\n\r\n\r\n// export const addComment = createAsyncThunk(\r\n//   \"comment/addComment\",\r\n//   async (addcom, thunkAPI) => {\r\n//     const api = await axios({\r\n//       method: \"post\",\r\n//       url: \"http://127.0.0.1:8000/api/addComment\",\r\n//       headers: { Accept: \"application/json\" },\r\n//       data: addcom,\r\n//     });\r\n\r\n//     if (api.status == 200) {\r\n//       Swal.fire({\r\n//         position: \"top-end\",\r\n//         icon: \"success\",\r\n//         title: \"Contact Has been sent Successfully\",\r\n//         showConfirmButton: false,\r\n//         timer: 1500,\r\n//       });\r\n//     }\r\n//   }\r\n// );\r\n\r\n// export const addComment = createAsyncThunk(\r\n//   \"comment/addComment\",\r\n//   async (data, thunkAPI) => {\r\n//     const response = await axios.post(\r\n//       \"http://127.0.0.1:8000/api/addComment\",\r\n//       data\r\n//     );\r\n// const add = await response.data;\r\n// console.log('add',add)\r\n//     if (response.status == 200) {\r\n//       Swal.fire({\r\n//         title: \"Item\",\r\n//         text: \"Has been Added Successfully\",\r\n//         type: \"success\",\r\n//       });\r\n//     }\r\n//     // return response.data;\r\n//      return add;\r\n//   }\r\n \r\n// );\r\n\r\nconst commentSlice = createSlice({\r\n  name: \"comment\",\r\n  initialState: { comments:[], status: null },\r\n  extraReducers: {\r\n    //get item from api\r\n    [getComments.fulfilled]: (state, action) => {\r\n      console.log(action);\r\n      state.status = \"success fetch data\";\r\n      state.comments = action.payload;\r\n    },\r\n    [getComments.pending]: (state) => {\r\n      state.status = \"pending  fetch data\";\r\n    },\r\n    [getComments.rejected]: (state) => {\r\n      state.status = \"rejected  fetch data\";\r\n    },\r\n\r\n    // addcomment to api\r\n\r\n    [addComment.fulfilled]: (state, action) => {\r\n        console.log(action)\r\n      state.status = \"success send data\";\r\n      state.comments.push(action.payload);\r\n    },\r\n    [addComment.pending]: (state) => {\r\n      state.status = \"pending send data\";\r\n    },\r\n    [addComment.rejected]: (state) => {\r\n      state.status = \"rejected send data\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default commentSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAGA,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CAAC,qBAAD,EAAwB,YAAY;EAC7E,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,sCAAD,CAAvB;EACA,MAAMC,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAvB;EACAC,OAAO,CAACC,GAAR,CAAYH,QAAZ;EACA,OAAOA,QAAP;AACD,CAL0C,CAApC,C,CAQP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,MAAMI,YAAY,GAAGV,WAAW,CAAC;EAC/BW,IAAI,EAAE,SADyB;EAE/BC,YAAY,EAAE;IAAEC,QAAQ,EAAC,EAAX;IAAeC,MAAM,EAAE;EAAvB,CAFiB;EAG/BC,aAAa,EAAE;IACb;IACA,CAACZ,WAAW,CAACa,SAAb,GAAyB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC1CV,OAAO,CAACC,GAAR,CAAYS,MAAZ;MACAD,KAAK,CAACH,MAAN,GAAe,oBAAf;MACAG,KAAK,CAACJ,QAAN,GAAiBK,MAAM,CAACC,OAAxB;IACD,CANY;IAOb,CAAChB,WAAW,CAACiB,OAAb,GAAwBH,KAAD,IAAW;MAChCA,KAAK,CAACH,MAAN,GAAe,qBAAf;IACD,CATY;IAUb,CAACX,WAAW,CAACkB,QAAb,GAAyBJ,KAAD,IAAW;MACjCA,KAAK,CAACH,MAAN,GAAe,sBAAf;IACD,CAZY;IAcb;IAEA,CAACQ,UAAU,CAACN,SAAZ,GAAwB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACvCV,OAAO,CAACC,GAAR,CAAYS,MAAZ;MACFD,KAAK,CAACH,MAAN,GAAe,mBAAf;MACAG,KAAK,CAACJ,QAAN,CAAeU,IAAf,CAAoBL,MAAM,CAACC,OAA3B;IACD,CApBY;IAqBb,CAACG,UAAU,CAACF,OAAZ,GAAuBH,KAAD,IAAW;MAC/BA,KAAK,CAACH,MAAN,GAAe,mBAAf;IACD,CAvBY;IAwBb,CAACQ,UAAU,CAACD,QAAZ,GAAwBJ,KAAD,IAAW;MAChCA,KAAK,CAACH,MAAN,GAAe,oBAAf;IACD;EA1BY;AAHgB,CAAD,CAAhC;AAiCA,eAAeJ,YAAY,CAACc,OAA5B"},"metadata":{},"sourceType":"module"}